!function(t,l){"object"==typeof exports&&"undefined"!=typeof module?module.exports=l():"function"==typeof define&&define.amd?define(l):t.Scrollbar=l()}(this,function(){"use strict";function t(t,l){for(var e in l)t[e]=l[e];return t}var l=function(l){var e={},l=t(e,l);this.options=l,this.element=document.querySelector("#"+l.id),this.scrollContent=null,this.scrollContentHeight=null,this.scrollBar=null,this.scrollBarHeight=null,this.scrollBarTop=null,this.scrollHeight=5,this.scrollStatus=!1,this.direct=null,this.init(this.options,this.element)};return l.prototype.init=function(t,l){var e=this;l&&(l.className+=" scroll-wrapper",e.scrollContentHeight=l.offsetHeight,e.scrollContentHeight>t.height&&(l.style.position="relative",l.style.height=t.height+"px",l.style.overflow="hidden",e.scrollContent=document.createElement("div"),e.scrollContent.className+=" scroll-content",e.scrollContent.innerHTML=l.innerHTML,l.innerHTML="",l.appendChild(e.scrollContent),e.createTool(t,l)))},l.prototype.createTool=function(t,l){var e=this,o=document.createElement("div");e.scrollBarHeight=parseInt(t.height*t.height/e.scrollContentHeight),o.className="scroll-tool",o.innerHTML='<div class="scroll-bar" style="height:'+e.scrollBarHeight+'px"></div>',l.appendChild(o),e.scrollBar=l.querySelector(".scroll-bar"),e.bindEvent(t)},l.prototype.bindEvent=function(t){function l(t){e.scrollBarTop=parseInt(e.scrollBar.style.top.substring(0,e.scrollBar.style.top.length-2))||0,t.wheelDelta&&(e.direct=t.wheelDelta)||(e.direct=-t.detail),e.scroll.call(e,t,e.scrollHeight,e.scrollBarTop)}var e=this,o=e.element;o.addEventListener("DOMMouseScroll",l,!1),o.addEventListener("mousewheel",l,!1);var n=0,s=0,r=0,i=0;e.scrollBar.onmousedown=function(t){n=t.clientX,s=t.clientY,e.scrollStatus=!0,e.scrollBarTop=parseInt(e.scrollBar.style.top.substring(0,e.scrollBar.style.top.length-2))||0,document.onmousemove=function(t){console.log(e.scrollStatus);var l=t.clientX,o=t.clientY;r=l-n,i=o-s,e.direct=-i,e.scrollStatus&&e.scroll.call(e,t,Math.abs(i),e.scrollBarTop)},document.onmouseup=function(t){e.scrollStatus=!1,r=null,i=null,document.onmousemove=null,document.onmouseup=null}}},l.prototype.scroll=function(t,l,e){var o=this,t=t||window.event,n=o.options.height-(o.scrollBarHeight+e),s=parseInt((e+l)*o.scrollContentHeight/o.options.height);if(o.direct>0)if(e<=l)o.scrollBar.style.top="0px",o.scrollContent.style.top="0px";else{var r=e-l;o.scrollBar.style.top=r+"px",o.scrollContent.style.top=-s+"px"}else if(n<=l)o.scrollBar.style.top=e+n+"px",o.scrollContent.style.top=o.options.height-o.scrollContentHeight+"px";else{var r=e+l;o.scrollBar.style.top=r+"px",o.scrollContent.style.top=-s+"px"}t.preventDefault()},function(t){new l(t)}});