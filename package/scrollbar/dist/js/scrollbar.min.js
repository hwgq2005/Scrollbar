!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Scrollbar=e()}(this,function(){"use strict";function t(t,e){for(var l in e)t[l]=e[l];return t}var e=function(e){var l={},e=t(l,e);this.options=e,this.element=document.querySelector("#"+e.id),this.scrollContent=null,this.scrollContentHeight=null,this.scrollBar=null,this.scrollBarHeight=null,this.scrollBarTop=null,this.scrollHeight=5,this.scrollStatus=!1,this.direct=null,this.init(this.options,this.element)};return e.prototype.init=function(t,e){var l=this;e&&null!=t.height&&"number"==typeof t.height&&(e.className+=" scroll-wrapper",l.scrollContentHeight=e.offsetHeight,l.scrollContentHeight>t.height&&(e.style.position="relative",e.style.height=t.height+"px",e.style.overflow="hidden",l.scrollContent=document.createElement("div"),l.scrollContent.className+=" scroll-content",l.scrollContent.innerHTML=e.innerHTML,e.innerHTML="",e.appendChild(l.scrollContent),l.createTool(t,e)))},e.prototype.createTool=function(t,e){var l=this,o=document.createElement("div");l.scrollBarHeight=parseInt(t.height*t.height/l.scrollContentHeight),o.className="scroll-tool",o.innerHTML='<div class="scroll-bar" style="height:'+l.scrollBarHeight+'px"></div>',e.appendChild(o),l.scrollBar=e.querySelector(".scroll-bar"),l.bindEvent(t)},e.prototype.bindEvent=function(t){function e(t){l.scrollBarTop=parseInt(l.scrollBar.style.top.substring(0,l.scrollBar.style.top.length-2))||0,t.wheelDelta&&(l.direct=t.wheelDelta)||(l.direct=-t.detail),l.scroll.call(l,t,l.scrollHeight,l.scrollBarTop)}var l=this,o=l.element;o.addEventListener("DOMMouseScroll",e,!1),o.addEventListener("mousewheel",e,!1);var n=0,r=0,s=0,i=0;l.scrollBar.onmousedown=function(t){n=t.clientX,r=t.clientY,l.scrollStatus=!0,l.scrollBarTop=parseInt(l.scrollBar.style.top.substring(0,l.scrollBar.style.top.length-2))||0,document.onmousemove=function(t){var e=t.clientX,o=t.clientY;s=e-n,i=o-r,l.direct=-i,l.scrollStatus&&l.scroll.call(l,t,Math.abs(i),l.scrollBarTop)},document.onmouseup=function(t){l.scrollStatus=!1,s=null,i=null,document.onmousemove=null,document.onmouseup=null}}},e.prototype.scroll=function(t,e,l){var o=this,t=t||window.event,n=o.options.height-(o.scrollBarHeight+l),r=parseInt((l+e)*o.scrollContentHeight/o.options.height);if(console.log(o.direct),o.direct>0)if(l<=e)o.scrollBar.style.top="0px",o.scrollContent.style.top="0px";else{var s=l-e;o.scrollBar.style.top=s+"px",o.scrollContent.style.top=-r+"px"}else if(n<=e)o.scrollBar.style.top=l+n+"px",o.scrollContent.style.top=o.options.height-o.scrollContentHeight+"px";else{var s=l+e;o.scrollBar.style.top=s+"px",o.scrollContent.style.top=-r+"px"}t.preventDefault()},function(t){new e(t)}});